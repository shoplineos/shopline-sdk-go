// Package payment generated by SHOPLINE since v20251201
package payment

import (
	"errors"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type GetPayoutsAPIReq struct {
	client.BaseAPIRequest
	/*
	   Payout transaction number, used to search for the payout transaction record by matching the exact number.
	*/
	PayoutTransactionNo string `url:"payout_transaction_no,omitempty" json:"-"`
	/*
	   Payout transaction number, used to filter the payout records processed before this payout transaction number.
	*/
	SinceId string `url:"since_id,omitempty" json:"-"`
	/*
	   The start creation time of the payout records to be queried. Payout records created on and after this time will be returned. `start_time` and `end_time` parameters must be specified at the same time. The time interval between `start_time` and `end_time` cannot exceed 3 months. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).
	   Example: 2025-04-30T00:00:00+08:00
	*/
	StartTime string `url:"start_time,omitempty" json:"-"` // Required
	/*
	   Payout status. Valid values are:
	   * `CREATED`: created
	   * `PROCESSING`: processing
	   * `SUCCESS`: payout completed
	   * `FAILED`: payout failed
	   Example: CREATED
	*/
	Status string `url:"status,omitempty" json:"-"`
	/*
	   The end creation time of payout records to be queried. Payout records created on and before this time will be returned. `start_time` and `end_time` parameters must be specified at the same time. The time interval between `start_time` and `end_time` cannot exceed 3 months. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).
	   Example: 2025-04-30T00:00:00+08:00
	*/
	EndTime string `url:"end_time,omitempty" json:"-"` // Required
	/*
	   Maximum number of records to be returned in the query. The maximum number cannot exceed `100`.

	   Default value: `50`
	*/
	Limit string `url:"limit,omitempty" json:"-"` // Required
	/*
	   The unique identifier for pagination queries, used to locate a specific page.

	   This parameter value is obtained from the `link` value in the response header of this API after you have queried the pagination information.

	   For example, if the `link` value you obtained is `<https://{handle}.myshopline.com/admin/openapi/{version}/payments/store/payouts.json?limit=1&page_info=eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9>; rel="next"` , the value of `page_info` is `eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9` .

	   For more information on how to use pagination, refer to [Paging Mechanism](/docs/apps/api-instructions-for-use/paging-mechanism).
	*/
	PageInfo string `url:"page_info,omitempty" json:"-"`
}

func (req *GetPayoutsAPIReq) GetEndpoint() string {

	return "payments/store/payouts.json"

}

func (req *GetPayoutsAPIReq) GetMethod() string {
	return "GET"
}

func (req *GetPayoutsAPIReq) GetQuery() interface{} {
	return req
}

// Verify the api request parameters
func (req *GetPayoutsAPIReq) Verify() error {

	if req.StartTime == "" {
		return errors.New("StartTime is required")
	}

	if req.EndTime == "" {
		return errors.New("EndTime is required")
	}

	if req.Limit == "" {
		return errors.New("Limit is required")
	}

	return nil
}

func (req *GetPayoutsAPIReq) NewAPIResp() *GetPayoutsAPIResp {
	return &GetPayoutsAPIResp{}
}

type GetPayoutsAPIResp struct {
	client.BaseAPIResponse
	/*
	   A list of payout records for the SHOPLINE Payments account.
	   Example: [map[amount:12.34 currency:<nil> payout_transaction_no:<nil> status:CREATED time:2025-04-30T00:00:00+08:00]]
	*/
	Payouts []Payout `json:"payouts,omitempty" url:"-"`
}

type Payout struct {
	/*
	   Payout status. Valid values are:
	   * `CREATED`: created
	   * `PROCESSING`: processing
	   * `SUCCESS`: payout completed
	   * `FAILED`: payout failed
	   Example: CREATED
	*/
	Status string `json:"status,omitempty" url:"-"`

	/*
	   Payout date and time. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).
	   Example: 2025-04-30T00:00:00+08:00
	*/
	Time string `json:"time,omitempty" url:"-"`

	/*
	   The payout amount. The value is rounded to two decimal places.
	   Example: 12.34
	*/
	Amount string `json:"amount,omitempty" url:"-"`

	/*
	   The payout currency. The value of this field is a three-digit currency code that follows the [ISO 4217](https://www.iso.org/iso-4217-currency-codes.html) international standard, such as `USD`.
	*/
	Currency string `json:"currency,omitempty" url:"-"`

	/*
	   The payout transaction number.
	*/
	PayoutTransactionNo string `json:"payout_transaction_no,omitempty" url:"-"`
}
