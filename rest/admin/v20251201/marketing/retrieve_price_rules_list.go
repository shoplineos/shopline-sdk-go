// Package marketing generated by SHOPLINE since v20251201
package marketing

import (
	"github.com/shoplineos/shopline-sdk-go/client"
)

type RetrievePriceRulesListAPIReq struct {
	client.BaseAPIRequest
	/*
	   Return objects created some time ago
	   Example: 2023-07-11T09:00:00+08:00
	*/
	CreatedAtMax string `url:"created_at_max,omitempty" json:"-"`
	/*
	   Returns objects created after a certain time
	   Example: 2023-07-10T09:00:00+08:00
	*/
	CreatedAtMin string `url:"created_at_min,omitempty" json:"-"`
	/*
	   A preferential rule that returns money whose end time is at a certain time
	   Example: 2023-07-11T09:00:00+08:00
	*/
	EndsAtMax string `url:"ends_at_max,omitempty" json:"-"`
	/*
	   Returns offer rules with an end time after a certain time
	   Example: 2023-07-10T09:00:00+08:00
	*/
	EndsAtMin string `url:"ends_at_min,omitempty" json:"-"`
	/*
	   The number of queries is limited, the default is 50, and it cannot exceed 1000
	   Example: 50
	*/
	Limit string `url:"limit,omitempty" json:"-"`
	/*
	   The unique identifier for pagination queries, used to locate a specific page.

	   This parameter value is obtained from the `link` value in the response header of this API after you have queried the pagination information.

	   For example, if the `link` value you obtained is `<https://{handle}.myshopline.com/admin/openapi/{version}/sales/price_rules.json?limit=1&page_info=eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9>; rel="next"` , the value of `page_info` is `eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9` .
	   For more information on how to use pagination, refer to [Paging Mechanism](/docs/apps/api-instructions-for-use/paging-mechanism).
	   Example:
	*/
	PageInfo string `url:"page_info,omitempty" json:"-"`
	/*
	   Returns the object "after" a certain ID
	   Example: 6018703339935504723
	*/
	SinceId string `url:"since_id,omitempty" json:"-"`
	/*
	   Returns discount rules with start time before a certain time
	   Example: 2023-07-11T09:00:00+08:00
	*/
	StartsAtMax string `url:"starts_at_max,omitempty" json:"-"`
	/*
	   Returns discount rules with start time after a certain time
	   Example: 2023-07-10T09:00:00+08:00
	*/
	StartsAtMin string `url:"starts_at_min,omitempty" json:"-"`
	/*
	   Show the price rule with this value
	   Example: 3
	*/
	TimesUsed int `url:"times_used,omitempty" json:"-"`
	/*
	   Returns objects updated before a certain time
	   Example: 2023-07-11T09:00:00+08:00
	*/
	UpdateAtMax string `url:"update_at_max,omitempty" json:"-"`
	/*
	   Returns an object updated after a certain time
	   Example: 2023-07-10T09:00:00+08:00
	*/
	UpdateAtMin string `url:"update_at_min,omitempty" json:"-"`
}

func (req *RetrievePriceRulesListAPIReq) GetEndpoint() string {

	return "sales/price_rules.json"

}

func (req *RetrievePriceRulesListAPIReq) GetMethod() string {
	return "GET"
}

func (req *RetrievePriceRulesListAPIReq) GetQuery() interface{} {
	return req
}

// Verify the api request parameters
func (req *RetrievePriceRulesListAPIReq) Verify() error {

	return nil
}

func (req *RetrievePriceRulesListAPIReq) NewAPIResp() *RetrievePriceRulesListAPIResp {
	return &RetrievePriceRulesListAPIResp{}
}

type RetrievePriceRulesListAPIResp struct {
	client.BaseAPIResponse
	/*
	   Discount rules
	   Example: [map[allocation_limit:2 allocation_method:across create_at:2023-07-10T11:00:00+08:00 ends_at:2023-08-10T11:00:00+08:00 entitled_collection_ids:[12259764246208273857373144] entitled_country_ids:["HK","TW","SG"] entitled_product_ids:[16059766321245219059003144] entitled_variant_ids:[map[product_id:16059766321245219059003144 variant_id:18059766321249077818743144]] id:6018695669979551970 joint_discount:false joint_discount_order:true joint_discount_product:true joint_discount_shipping:true overlay_discount_code:false overlay_discount_code_order:true overlay_discount_code_product:true overlay_discount_code_shipping:true prerequisite_collection_ids:[12259764246208273857373144] prerequisite_customer_ids:[] prerequisite_product_ids:[16059766321245219059003144] prerequisite_quantity_range:map[greater_than_or_equal_to:5] prerequisite_saved_search_ids:[] prerequisite_shipping_price_range:map[less_than_or_equal_to:50] prerequisite_subtotal_range:map[greater_than_or_equal_to:100] prerequisite_to_entitlement_purchase:map[prerequisite_amount:100] prerequisite_to_entitlement_quantity_ratio:map[entitled_quantity:1 prerequisite_quantity:1] prerequisite_variant_ids:[map[product_id:16059766321245219059003144 variant_id:18059766321249077818743144]] sales_channels:[web] starts_at:2023-07-10T11:00:00+08:00 target_selection:all target_type:line_itme title:This is title of price rule update_at:2023-07-10T11:00:00+08:00 usage_limit:2 usage_per_customer:10 value:20 value_type:percentage]]
	*/
	PriceRules []RetrievePriceRulesListAPIRespPriceRule `json:"price_rules,omitempty" url:"-"`
}

type RetrievePriceRulesListAPIRespPriceRule struct {
	/*
	   Designated style array ● If target_selection is entitled, one of entitled_product_ids, entitled_collection_ids, and entitled_variant_ids must have a value ● The three fields entitled_product_ids, entitled_collection_ids, and entitled_variant_ids are mutually exclusive, and only one field can have a value ● When you buy X and get Y, it means Y product Style list
	   Example: [map[product_id:16059766321245219059003144 variant_id:18059766321249077818743144]]
	*/
	EntitledVariantIds []EntitledVariantId `json:"entitled_variant_ids,omitempty" url:"-"`

	/*
	   When buying X to get Y, the style id list of X product will not be used together with prerequisite_product_ids and prerequisite_collection_ids
	   Example: [map[product_id:16059766321245219059003144 variant_id:18059766321249077818743144]]
	*/
	PrerequisiteVariantIds []PrerequisiteVariantId `json:"prerequisite_variant_ids,omitempty" url:"-"`

	/*
	   Update time
	   Example: 2023-07-10T11:00:00+08:00
	*/
	UpdateAt string `json:"update_at,omitempty" url:"-"`

	/*
	   Superimposed discounts-discount code discounts, allowing multiple discount code activities to stack discounts
	   Example: false
	*/
	OverlayDiscountCode bool `json:"overlay_discount_code,omitempty" url:"-"`

	/*
	   Specify customer group Prerequisite: Customer must belong to one of the customer saved searches specified by (customer group) requisite_saved_search_ids, or one of the customers specified by requisite_customer_ids.
	   Example: []
	*/
	PrerequisiteSavedSearchIds []string `json:"prerequisite_saved_search_ids,omitempty" url:"-"`

	/*
	   Promotion triggers the minimum order amount ● prerequisite_quantity_range and prerequisite_subtotal_range are mutually exclusive ● If both are empty, it is the trigger condition for no price or quantity
	   Example: map[greater_than_or_equal_to:100]
	*/
	PrerequisiteSubtotalRange RetrievePriceRulesListAPIRespPrerequisiteSubtotalRange `json:"prerequisite_subtotal_range,omitempty" url:"-"`

	/*
	   Specify the product id array ● If target_selection is entitled, one of the three options entitled_product_ids, entitled_collection_ids, and entitled_variant_ids must have a value ● The three fields entitled_product_ids, entitled_collection_ids, and entitled_variant_ids are mutually exclusive, and only one field can have a value. When you buy X and get Y, it means Y Product ID list
	   Example: [16059766321245219059003144]
	*/
	EntitledProductIds []string `json:"entitled_product_ids,omitempty" url:"-"`

	/*
	   Shipping must be less than or equal to this value. * Not required, default is empty. * 1) The content can only be filled in under target_type=shipping_line * 2) The value and accuracy are consistent with the corresponding accuracy of the store currency
	   Example: map[less_than_or_equal_to:50]
	*/
	PrerequisiteShippingPriceRange PrerequisiteShippingPriceRange `json:"prerequisite_shipping_price_range,omitempty" url:"-"`

	/*
	   If the sales channel is not transmitted by default, it means that all channels are available; If a specified sales channel is uploaded, it is available only in that channel
	   Example: [web]
	*/
	SalesChannels []string `json:"sales_channels,omitempty" url:"-"`

	/*
	   End time ● The default value is empty ● If it is not filled, it will be regarded as no end time, and the promotion rules are indefinite ● The date processing method is the same as above
	   Example: 2023-08-10T11:00:00+08:00
	*/
	EndsAt string `json:"ends_at,omitempty" url:"-"`

	/*
	   The target type to which the price rule applies. Valid values: line_item: The price rule to apply to the shopping line item item. shipping_line: The price rule applies to the shopping order shipping line.
	   Example: line_itme
	*/
	TargetType string `json:"target_type,omitempty" url:"-"`

	/*
	   The scope of application of preferential rules, the acceptable values are ● all, defined as all products; ● entitled, defined as specified range (specified product/specified category). When this field obtains the value of entitled, one of entitled_product_ids and entitled_collection_ids must be selected. Value; when target_type=shipping_line, all must be filled. The default value is all
	   Example: all
	*/
	TargetSelection string `json:"target_selection,omitempty" url:"-"`

	/*
	   Specified Customer Prerequisite: Customer must belong to one of the searches saved by the specified customer (customer group) requisite_saved_search_ids, or one of the customers specified by requisite_customer_ids.
	   Example: []
	*/
	PrerequisiteCustomerIds []string `json:"prerequisite_customer_ids,omitempty" url:"-"`

	/*
	   Limit the total number of uses of all discount codes bound to this discount rule ● If not filled, the default value is null or empty, which means unlimited use times ● Only empty and natural numbers are acceptable; ● If the upper limit value is exceeded, it will be automatically processed as upper limit value
	   Example: 2
	*/
	UsageLimit int `json:"usage_limit,omitempty" url:"-"`

	/*
	   price rule id
	   Example: 6018695669979551970
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Superimposed discounts-automatic discounts-commodity discounts
	   Example: true
	*/
	JointDiscountProduct bool `json:"joint_discount_product,omitempty" url:"-"`

	/*
	   When buying X to get Y, the amount threshold that X product needs to meet
	   Example: map[prerequisite_amount:100]
	*/
	PrerequisiteToEntitlementPurchase PrerequisiteToEntitlementPurchase `json:"prerequisite_to_entitlement_purchase,omitempty" url:"-"`

	/*
	   Specify an array of category ids ● If target_selection is entitled, one of the three options entitled_product_ids, entitled_collection_ids, and entitled_variant_ids must have a value ● The three fields entitled_product_ids, entitled_collection_ids, and entitled_variant_ids are mutually exclusive, and only one field can have a value
	   Example: [12259764246208273857373144]
	*/
	EntitledCollectionIds []string `json:"entitled_collection_ids,omitempty" url:"-"`

	/*
	   The distribution method of the price rule, the acceptable values are ● each The discount is applied to each participating product. For example, for a $15 off price rule, each eligible item will be $15 off at checkout, for a total of $15 multiplied by the number of items. ● The discount amount calculated across will be applied to the entire eligible listing. For example, for a $15 off price rule, the discount will be spread across each participating item, for a total of $15 off. When the target_type value is shipping_line, allocation_method must be each. The default is across
	   Example: across
	*/
	AllocationMethod string `json:"allocation_method,omitempty" url:"-"`

	/*
	   Overlay Offer ● The default value is false
	   Example: false
	*/
	JointDiscount bool `json:"joint_discount,omitempty" url:"-"`

	/*
	   When you buy X and get Y, you can accumulatively distribute the limit of discounts in the shopping cart if you meet the conditions. For example: if you buy 1 X and get 1 Y discount, set allocation_limit=2, when there are 3 X products in the shopping cart, When there are 3 Y items, only 2 Y items can be obtained
	   Example: 2
	*/
	AllocationLimit string `json:"allocation_limit,omitempty" url:"-"`

	/*
	   Superimposed discounts-discount code discounts, allowing multiple discount code activities to be used in superimposed discounts. Product discount
	   Example: true
	*/
	OverlayDiscountCodeProduct bool `json:"overlay_discount_code_product,omitempty" url:"-"`

	/*
	   Creation time
	   Example: 2023-07-10T11:00:00+08:00
	*/
	CreateAt string `json:"create_at,omitempty" url:"-"`

	/*
	   Promotion triggers the minimum quantity of items ● prerequisite_quantity_range and prerequisite_subtotal_range are mutually exclusive ● If both are empty, it is the trigger condition for no price or quantity
	   Example: map[greater_than_or_equal_to:5]
	*/
	PrerequisiteQuantityRange RetrievePriceRulesListAPIRespPrerequisiteQuantityRange `json:"prerequisite_quantity_range,omitempty" url:"-"`

	/*
	   Superimposed discounts-discount code discounts, allowing multiple discount code activities to be used in superimposed discounts. shipping discount
	   Example: true
	*/
	OverlayDiscountCodeShipping bool `json:"overlay_discount_code_shipping,omitempty" url:"-"`

	/*
	   ● Use the ISO 8601 time format, and the standard format is ○ 2021-10-20T09:59:10+08:00 ● If no time zone value is passed, it will be regarded as GMT standard time
	   Example: 2023-07-10T11:00:00+08:00
	*/
	StartsAt string `json:"starts_at,omitempty" url:"-"`

	/*
	   When buying X to get Y, when buying X to get Y, the X product Id list, and prerequisite_collection_ids, prerequisite_variant_ids will not be used at the same time
	   Example: [16059766321245219059003144]
	*/
	PrerequisiteProductIds []string `json:"prerequisite_product_ids,omitempty" url:"-"`

	/*
	   Superimposed discounts-discount code discounts, allowing multiple discount code activities to be used in superimposed discounts. order discount
	   Example: true
	*/
	OverlayDiscountCodeOrder bool `json:"overlay_discount_code_order,omitempty" url:"-"`

	/*
	   Multiple country/region ids are acceptable
	   Example: ["HK","TW","SG"]
	*/
	EntitledCountryIds []string `json:"entitled_country_ids,omitempty" url:"-"`

	/*
	   Offer type, acceptable values are ● percentage percentage, percentage must be filled in when target_type=shipping_line, and percentage must be filled in for buy x get y type activities; ● fixed_amount fixed amount; required field
	   Example: percentage
	*/
	ValueType string `json:"value_type,omitempty" url:"-"`

	/*
	   The name of the discount rules
	   Example: This is title of price rule
	*/
	Title string `json:"title,omitempty" url:"-"`

	/*
	   When buying X to get Y, the quantity threshold required for X product and the quantity of Y product obtained
	   Example: map[entitled_quantity:1 prerequisite_quantity:1]
	*/
	PrerequisiteToEntitlementQuantityRatio PrerequisiteToEntitlementQuantityRatio `json:"prerequisite_to_entitlement_quantity_ratio,omitempty" url:"-"`

	/*
	   Superimposed discounts - automatic discounts - order discounts
	   Example: true
	*/
	JointDiscountOrder bool `json:"joint_discount_order,omitempty" url:"-"`

	/*
	   Limit the number of times each customer can use each code under the price rule ● If not filled, the default value is null or empty, which means unlimited usage ● Only empty and natural numbers are acceptable; ● Values exceeding the upper limit are automatically processed as up limit value
	   Example: 10
	*/
	UsagePerCustomer int `json:"usage_per_customer,omitempty" url:"-"`

	/*
	   When buying X to get Y, the category Id list of X product cannot be used at the same time with prerequisite_product_ids and prerequisite_variant_ids
	   Example: [12259764246208273857373144]
	*/
	PrerequisiteCollectionIds []string `json:"prerequisite_collection_ids,omitempty" url:"-"`

	/*
	   Overlay Offer - Automatic Offer - Shipping Discount
	   Example: true
	*/
	JointDiscountShipping bool `json:"joint_discount_shipping,omitempty" url:"-"`

	/*
	   Discount amount or percentage, ● If the value_type value is percentage, it indicates the discount percentage, rounded to an integer, for example: 10% discount, fill in 10; ● If the value_type value is fixed_amount, it indicates the discount amount, the unit is yuan, rounded to two decimal places, For example: If the discount is 10.23 yuan, fill in -10.23. required field
	   Example: 20
	*/
	Value string `json:"value,omitempty" url:"-"`
}

type RetrievePriceRulesListAPIRespPrerequisiteSubtotalRange struct {
	/*
	   ● Can be null ● Rounded to two decimal places Example: ● If 11.116666 is passed in, it will be processed as 11.12
	   Example: 100
	*/
	GreaterThanOrEqualTo string `json:"greater_than_or_equal_to,omitempty" url:"-"`
}

type RetrievePriceRulesListAPIRespPrerequisiteQuantityRange struct {
	/*
	   ● nullable ● must be >0 ● only integers are acceptable (integer)
	   Example: 5
	*/
	GreaterThanOrEqualTo int `json:"greater_than_or_equal_to,omitempty" url:"-"`
}
