// Package order generated by SHOPLINE since v20251201
package order

import (
	"github.com/shoplineos/shopline-sdk-go/client"
)

type AddProductDiscountAPIReq struct {
	client.BaseAPIRequest
	/*
	   Request body
	   Example: map[discount:map[description:Custom discount fixed_value:map[amount:2.0 currency_code:USD] percent_value:0] id:21098923432423423423 line_item_id:6070492982498829423]
	*/
	Request AddProductDiscountAPIReqRequest `json:"request,omitempty" url:"-"`
}

type AddProductDiscountAPIReqRequest struct {
	/*
	   Product discount
	   Example: map[description:Custom discount fixed_value:map[amount:2.0 currency_code:USD] percent_value:0]
	*/
	Discount Discount `json:"discount,omitempty" url:"-"`

	/*
	   Edit order draft order id , you can get it from call order editing-start interface return parameters
	   Example: 21098923432423423423
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Product row id
	   Example: 6070492982498829423
	*/
	LineItemId string `json:"line_item_id,omitempty" url:"-"`
}

type Discount struct {
	/*
	   Discount description
	   Example: Custom discount
	*/
	Description string `json:"description,omitempty" url:"-"`

	/*
	   The Discount value of the fixed amount supports two decimal points . when the discount is the fixed amount type , it cannot be empty at the same time as percent_value .
	   Example: map[amount:2.0 currency_code:USD]
	*/
	FixedValue FixedValue `json:"fixed_value,omitempty" url:"-"`

	/*
	   Percentage Discount value , two decimal points between 0-1 , such as 0.2=20%off when the discount is the percentage type , and cannot be empty at the same time as fixed_value
	   Example: 0
	*/
	PercentValue string `json:"percent_value,omitempty" url:"-"`
}

func (req *AddProductDiscountAPIReq) GetEndpoint() string {

	return "orders/order_edit_add_line_item_discount.json"

}

func (req *AddProductDiscountAPIReq) GetMethod() string {
	return "POST"
}

func (req *AddProductDiscountAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *AddProductDiscountAPIReq) Verify() error {

	return nil
}

func (req *AddProductDiscountAPIReq) NewAPIResp() *AddProductDiscountAPIResp {
	return &AddProductDiscountAPIResp{}
}

type AddProductDiscountAPIResp struct {
	client.BaseAPIResponse
	/*
	   Edit order draft order information
	   Example: map[committed:true id:2106068787725276328168095160459272]
	*/
	CalculatedOrder CalculatedOrder `json:"calculated_order,omitempty" url:"-"`

	/*
	   Error prompt information of this editor , if there is an error in the execution , it will be return in this field , and the call can be tried again according to the error code ( note : try again and need to start the interface from the order_edit.json order editing to start the whole set of
	   Example: [map[code:UNAUTHORIZED_ACCESS field:[["id"]] message:unauthorized access]]
	*/
	UserErrors []UserError `json:"user_errors,omitempty" url:"-"`

	/*
	   Product information for this editor
	   Example: map[added_discount_staged_change:map[description:Custom discount fixed_value:map[amount:2.0 currency_code:USD] id:6070492985350956144 percent_value:0] id:6070492982498829423 original_unit_price_set:map[presentment_money:map[amount:20.0 currency_code:USD] shop_money:map[amount:20.0 currency_code:USD]] quantity:1 required_shipping:true taxable:true title:normal title variant_id:18057243001210740422372124]
	*/
	CalculatedLineItem CalculatedLineItem `json:"calculated_line_item,omitempty" url:"-"`
}
