// Package order generated by SHOPLINE since v20251201
package order

import (
	"errors"
	"fmt"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type GetOrderPaymentAPIReq struct {
	client.BaseAPIRequest
	/*
	   Order number
	   Example:
	*/
	OrderSeq string `url:"-" json:"-"` // Required
}

func (req *GetOrderPaymentAPIReq) GetEndpoint() string {

	return fmt.Sprintf("orders/%s/transactions.json", req.OrderSeq)

}

func (req *GetOrderPaymentAPIReq) GetMethod() string {
	return "GET"
}

// Verify the api request parameters
func (req *GetOrderPaymentAPIReq) Verify() error {

	if req.OrderSeq == "" {
		return errors.New("OrderSeq is required")
	}

	return nil
}

func (req *GetOrderPaymentAPIReq) NewAPIResp() *GetOrderPaymentAPIResp {
	return &GetOrderPaymentAPIResp{}
}

type GetOrderPaymentAPIResp struct {
	client.BaseAPIResponse
	/*
	   Transaction list
	   Example: [map[amount:101.0 currency:TWD error_code:success error_msg:not error gateway:Pacypay id:23058445753584153243898114 kind:sale order_id:21058445753566033850608114 payment_details:map[credit_card_bin:471110 credit_card_brand:visa credit_card_expire_month:12 credit_card_expire_year:30 credit_card_number:471110******0000] receipt:map[] status:success status_code:RISK_PENDING status_msg:PENDING_REVIEW]]
	*/
	Transactions []GetOrderPaymentAPIRespTransaction `json:"transactions,omitempty" url:"-"`
}

type GetOrderPaymentAPIRespTransaction struct {
	/*
	   Payment gateway
	   Example: Pacypay
	*/
	Gateway string `json:"gateway,omitempty" url:"-"`

	/*
	   Payment details
	   Example: map[credit_card_bin:471110 credit_card_brand:visa credit_card_expire_month:12 credit_card_expire_year:30 credit_card_number:471110******0000]
	*/
	PaymentDetails GetOrderPaymentAPIRespPaymentDetails `json:"payment_details,omitempty" url:"-"`

	/*
	   Bottom channel document information
	   Example: map[]
	*/
	Receipt map[string]string `json:"receipt,omitempty" url:"-"`

	/*
	   payment status code
	   Example: RISK_PENDING
	*/
	StatusCode string `json:"status_code,omitempty" url:"-"`

	/*
	   Amount
	   Example: 101.0
	*/
	Amount string `json:"amount,omitempty" url:"-"`

	/*
	   Type : sale
	   Example: sale
	*/
	Kind string `json:"kind,omitempty" url:"-"`

	/*
	   Payment failure information
	   Example: not error
	*/
	ErrorMsg string `json:"error_msg,omitempty" url:"-"`

	/*
	   Order id
	   Example: 21058445753566033850608114
	*/
	OrderId string `json:"order_id,omitempty" url:"-"`

	/*
	   Status : create、pending、failure、success
	   Example: success
	*/
	Status string `json:"status,omitempty" url:"-"`

	/*
	   Payment status code description
	   Example: PENDING_REVIEW
	*/
	StatusMsg string `json:"status_msg,omitempty" url:"-"`

	/*
	   Currency
	   Example: TWD
	*/
	Currency string `json:"currency,omitempty" url:"-"`

	/*
	   Transaction single id
	   Example: 23058445753584153243898114
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Payment failure reason encoding
	   Example: success
	*/
	ErrorCode string `json:"error_code,omitempty" url:"-"`
}

type GetOrderPaymentAPIRespPaymentDetails struct {
	/*
	   Leather card number for leather credit card
	   Example: 471110******0000
	*/
	CreditCardNumber string `json:"credit_card_number,omitempty" url:"-"`

	/*
	   Credit card bin
	   Example: 471110
	*/
	CreditCardBin string `json:"credit_card_bin,omitempty" url:"-"`

	/*
	   Credit card brand
	   Example: visa
	*/
	CreditCardBrand string `json:"credit_card_brand,omitempty" url:"-"`

	/*
	   Month of credit card expiration
	   Example: 12
	*/
	CreditCardExpireMonth string `json:"credit_card_expire_month,omitempty" url:"-"`

	/*
	   Credit card expiration Vintage
	   Example: 30
	*/
	CreditCardExpireYear string `json:"credit_card_expire_year,omitempty" url:"-"`
}
