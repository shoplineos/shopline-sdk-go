// Package order generated by SHOPLINE since v20251201
package order

import (
	"errors"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type CreateAReturnAPIReq struct {
	client.BaseAPIRequest
	/*
	   Message the return to the consumer true ( notification ) or not \false ( not notification )
	   Example: true
	*/
	NotifyCustomer bool `json:"notify_customer,omitempty" url:"-"`

	/*
	   Order number
	   Example: 2132131231231
	*/
	OrderSeq string `json:"order_seq,omitempty" url:"-"`

	/*
	   Actual time of return occurrence, format: 2023-04-12T22:59:52+08:00
	   Example: 2023-04-12T22:59:52+08:00
	*/
	ProcessedAt string `json:"processed_at,omitempty" url:"-"`

	/*
	   Return Product line information
	   Example: [map[fulfillment_id:23131 line_item_id:12321 quantity:2 return_reason:NOT_AS_DESCRIBED return_reason_note:Product does not match the description]]
	*/
	ReturnLineItems []CreateAReturnAPIReqReturnLineItem `json:"return_line_items,omitempty" url:"-"`

	/*
	   Return reason
	   Example: 7 days no reason
	*/
	ReturnReason string `json:"return_reason,omitempty" url:"-"`
}

type CreateAReturnAPIReqReturnLineItem struct {
	/*
	   	The return reasons for the product line: COLOR(Incorrect color), DEFECTIVE(Product is damaged or defective), NOT_AS_DESCRIBED(Product does not match the description), OTHER(Other reasons), SIZE_TOO_LARGE(Size is too large), SIZE_TOO_SMALL(Size is too small), STYLE(Issues with the style), UNWANTED(Customer changed their mind), WRONG_ITEM(Received the wrong item)

	   Example: NOT_AS_DESCRIBED
	*/
	ReturnReason string `json:"return_reason,omitempty" url:"-"`

	/*
	   Product line return reason detailed notes, maximum 128 characters supported.
	   Example: Product does not match the description
	*/
	ReturnReasonNote string `json:"return_reason_note,omitempty" url:"-"`

	/*
	   Invoice number
	   Example: 23131
	*/
	FulfillmentId string `json:"fulfillment_id,omitempty" url:"-"`

	/*
	   Product row id
	   Example: 12321
	*/
	LineItemId string `json:"line_item_id,omitempty" url:"-"`

	/*
	   Return Product quantity
	   Example: 2
	*/
	Quantity int `json:"quantity,omitempty" url:"-"`
}

func (req *CreateAReturnAPIReq) GetEndpoint() string {

	return "return/create.json"

}

func (req *CreateAReturnAPIReq) GetMethod() string {
	return "POST"
}

func (req *CreateAReturnAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *CreateAReturnAPIReq) Verify() error {

	if req.OrderSeq == "" {
		return errors.New("OrderSeq is required")
	}

	return nil
}

func (req *CreateAReturnAPIReq) NewAPIResp() *CreateAReturnAPIResp {
	return &CreateAReturnAPIResp{}
}

type CreateAReturnAPIResp struct {
	client.BaseAPIResponse
	/*
	   Return order information
	   Example: map[created_at:2022-11-04T10:18:46+00:00 id:2605860580357012238342 order_id:21058605762597644309430942 return_line_items:[map[fulfillment_id:22058605790725653626950942 fulfillment_line_item:map[line_item:map[attribute:Color-red , size-x fulfillable_quantity:1 fulfillment_service:Sf international fulfillment_status:fulfilled gift_card:true grams:1 id:405 image_url:https://image.shopline.com/abc.jpg location_id:5327026538935748524 name:It's good Product price:100.0 product_id:16056898121352174690861487 properties:[map[name:Text type:text urls:[https://image.shopline.com] value:Freedom]] quantity:1 requires_shipping:true sku:SKU1234 tags:sales tax_lines:[map[price:18.00 price_set:map[presentment_money:map[amount:18.00 currency_code:USD] shop_money:map[amount:18.00 currency_code:USD]] rate:10 title:CNMP]] taxable:true title:It's good Product variant_id:18056898121355865678441487 variant_title:L/Red vendor:Product supplier] quantity:2] id:RDP5860580372212396041 quantity:1]] return_reason:no reason status:OPEN]
	*/
	Return Return `json:"return,omitempty" url:"-"`
}
