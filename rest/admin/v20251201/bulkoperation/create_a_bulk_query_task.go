// Package bulkoperation generated by SHOPLINE since v20251201
package bulkoperation

import (
	"errors"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type CreateABulkQueryTaskAPIReq struct {
	client.BaseAPIRequest
	/*
	   HTTP method. The value of this field is fixed to `GET`.
	*/
	Method string `json:"method,omitempty" url:"-"`

	/*
	   The full URL endpoint for making a GET request to the REST Admin API.
	   Example: https://example.myshopline.com/admin/openapi/v20250301/products/products.json
	*/
	QueryPath string `json:"query_path,omitempty" url:"-"`
}

func (req *CreateABulkQueryTaskAPIReq) GetEndpoint() string {

	return "bulk_operation_run_query.json"

}

func (req *CreateABulkQueryTaskAPIReq) GetMethod() string {
	return "POST"
}

func (req *CreateABulkQueryTaskAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *CreateABulkQueryTaskAPIReq) Verify() error {

	if req.QueryPath == "" {
		return errors.New("QueryPath is required")
	}

	return nil
}

func (req *CreateABulkQueryTaskAPIReq) NewAPIResp() *CreateABulkQueryTaskAPIResp {
	return &CreateABulkQueryTaskAPIResp{}
}

type CreateABulkQueryTaskAPIResp struct {
	client.BaseAPIResponse
	/*
	   The date and time when the bulk task was completed. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).

	   Example: 2023-04-07T10:48:29+08:00
	*/
	CompletedAt string `json:"completedAt,omitempty" url:"-"`

	/*
	   The count of the completed bulk operations.
	*/
	CompletedCount int `json:"completedCount,omitempty" url:"-"`

	/*
	   The date and time when the bulk task was created. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).
	   Example: 2023-04-06T10:48:29+08:00
	*/
	CreatedAt string `json:"createdAt,omitempty" url:"-"`

	/*
	   The expiration time of the bulk task. Files will become unavailable for download after this time. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).
	   Example: 2023-04-07T10:48:29+08:00
	*/
	ExpiredAt string `json:"expiredAt,omitempty" url:"-"`

	/*
	   The reason for the bulk task execution exception.
	*/
	Reason string `json:"reason,omitempty" url:"-"`

	/*
	   The status of the bulk task. Valid values are:

	   - `CANCELED`：Canceled
	   - `CANCELING`：Canceling
	   - `COMPLETED`：Completed
	   - `CREATED`：Created
	   - `EXPIRED`：Expired
	   - `FAILED`：Failed
	   - `RUNNING`：Running
	*/
	Status string `json:"status,omitempty" url:"-"`

	/*
	   The ID of the store.
	*/
	StoreId string `json:"storeId,omitempty" url:"-"`

	/*
	   The error code of the bulk task. Valid values are:

	   - `ACCESS_DENIED`: No access permission
	   - `TIMEOUT`: Process timeout
	   - `NO_DATA`: No data found
	*/
	ErrorCode string `json:"errorCode,omitempty" url:"-"`

	/*
	   The ID of the bulk task.
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   A URL to a file containing task processing results with an expiration time. Format: [JSON Lines](https://jsonlines.org).
	   When `status` is `COMPLETED`, this value is identical to the `url` value. For other statuses, it may contain partial processing results.

	   Example: https://sl-private-oss.oss-accelerate.example.com/task-jsonline/prod/1/9b0c0f04-53cb-4ae3-94db-79af6ec193bd.jsonl
	*/
	PartialDataUrl string `json:"partialDataUrl,omitempty" url:"-"`

	/*
	   The type of the bulk task. Valid values are:
	   - `QUERY`: Query operation
	   - `MUTATION`: Mutation operation, which refers to mutation operations executed through the [Bulk operation mutation (to be Deprecated)](https://developer.shopline.com/docs/admin-rest-api/bulk-operations/create-a-change-type-bulk-task-to-be-deprecated) API.
	   - `MUTATION_GENERAL`: Mutation operation
	*/
	Type string `json:"type,omitempty" url:"-"`

	/*
	   A URL to a file containing all task processing results with an expiration time. Format: [JSON Lines](https://jsonlines.org/).
	   Example: https://sl-private-oss.oss-accelerate.example.com/task-jsonline/prod/1/9b0c0f04-53cb-4ae3-94db-79af6ec193bd.jsonl
	*/
	Url string `json:"url,omitempty" url:"-"`
}
