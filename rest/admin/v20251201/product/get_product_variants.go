// Package product generated by SHOPLINE since v20251201
package product

import (
	"errors"
	"fmt"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type GetProductVariantsAPIReq struct {
	client.BaseAPIRequest
	/*
	   The quantity limit of variants to be queried.<br/>Value range: 1-250<br/>Default Value: `50`
	*/
	Limit string `url:"limit,omitempty" json:"-"`
	/*
	   The unique identifier for pagination queries, used to locate a specific page.

	   This parameter value is obtained from the `link` value in the response header of this API after you have queried the pagination information.

	   For example, if the `link` value you obtained is `<https://{handle}.myshopline.com/admin/openapi/{version}/products/:product_id/variants.json?limit=1&page_info=eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9>; rel="next"` , the value of `page_info` is `eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9` .

	   For more information on how to use pagination, refer to [Paging Mechanism](/docs/apps/api-instructions-for-use/paging-mechanism).
	*/
	PageInfo string `url:"page_info,omitempty" json:"-"`
	/*
	   The ID of a specific variant. Start querying variants from this specified ID.
	   Example: 18057039439794751459380282
	*/
	SinceId string `url:"since_id,omitempty" json:"-"`
	/*
	   Specify the fields to be returned, with multiple fields separated by commas. For available fields, refer to the top-level child parameters under the `variants` object in the response.
	   Example: title,id
	*/
	Fields string `url:"fields,omitempty" json:"-"`
	/*
	   The unique identifier for the product. <br/>
	   Maximum length：64
	   Example: 16057039432335097907370282
	*/
	ProductId string `url:"-" json:"-"` // Required
}

func (req *GetProductVariantsAPIReq) GetEndpoint() string {

	return fmt.Sprintf("products/%s/variants.json", req.ProductId)

}

func (req *GetProductVariantsAPIReq) GetMethod() string {
	return "GET"
}

func (req *GetProductVariantsAPIReq) GetQuery() interface{} {
	return req
}

// Verify the api request parameters
func (req *GetProductVariantsAPIReq) Verify() error {

	if req.ProductId == "" {
		return errors.New("ProductId is required")
	}

	return nil
}

func (req *GetProductVariantsAPIReq) NewAPIResp() *GetProductVariantsAPIResp {
	return &GetProductVariantsAPIResp{}
}

type GetProductVariantsAPIResp struct {
	client.BaseAPIResponse
	/*
	   A list of product variants.
	   Example: [map[barcode:T0000001 compare_at_price:129.99 id:18057039439794751459380282 image:map[alt:This is an image alt. id:5785060242207917075 src:https://img.myshopline.com/image/official/e46e6189dd5641a3b179444cacdcdd2a.png] inventory_item_id:5785060242207917075 inventory_policy:<nil> inventory_quantity:99 inventory_tracker:<nil> option1:red option2:xl option3:cotton option4:short option5:casual price:90.22 product_id:16057039432335097907370282 required_shipping:<nil> sku:S000000001 taxable:<nil> title:red · xl weight:0.23 weight_unit:<nil>]]
	*/
	Variants []GetProductVariantsAPIRespVariant `json:"variants,omitempty" url:"-"`
}

type GetProductVariantsAPIRespVariant struct {
	/*
	   Information of the second option of the variant.
	   Example: xl
	*/
	Option2 string `json:"option2,omitempty" url:"-"`

	/*
	   Information of the third option of the variant.
	   Example: cotton
	*/
	Option3 string `json:"option3,omitempty" url:"-"`

	/*
	   The title of the variant, assembled from the option value of the variant.
	   Example: red · xl
	*/
	Title string `json:"title,omitempty" url:"-"`

	/*
	   The weight of the variant. The value is rounded up if it exceeds two decimal places.
	   Example: 0.23
	*/
	Weight string `json:"weight,omitempty" url:"-"`

	/*
	   The original price of the variant. The value is rounded to two decimal places.
	   Example: 129.99
	*/
	CompareAtPrice string `json:"compare_at_price,omitempty" url:"-"`

	/*
	   The image of the variant.
	   Example: map[alt:This is an image alt. id:5785060242207917075 src:https://img.myshopline.com/image/official/e46e6189dd5641a3b179444cacdcdd2a.png]
	*/
	Image Image `json:"image,omitempty" url:"-"`

	/*
	   The unique identifier for the inventory item.
	   Example: 5785060242207917075
	*/
	InventoryItemId string `json:"inventory_item_id,omitempty" url:"-"`

	/*
	   Information of the fourth option of the variant.
	   Example: short
	*/
	Option4 string `json:"option4,omitempty" url:"-"`

	/*
	   The unique identifier for the product corresponding to the variant.
	   Example: 16057039432335097907370282
	*/
	ProductId string `json:"product_id,omitempty" url:"-"`

	/*
	   Indicates whether the variant is required to be shipped.
	   - `true`: Shipping is required.
	   - `false`: Shipping is not required.
	*/
	RequiredShipping bool `json:"required_shipping,omitempty" url:"-"`

	/*
	   The product SKU. It is distinct from `variants.id` returned by SHOPLINE.
	   Example: S000000001
	*/
	Sku string `json:"sku,omitempty" url:"-"`

	/*
	   Indicates whether the variant is subject to tax.
	   - `true`: Tax is required.
	   - `false`: Tax is not required.
	*/
	Taxable bool `json:"taxable,omitempty" url:"-"`

	/*
	   Indicates whether the variant is allowed to be oversold.
	   - `deny`: Does not allow overselling.
	   - `continue`: Allow overselling.
	*/
	InventoryPolicy string `json:"inventory_policy,omitempty" url:"-"`

	/*
	   The total inventory quantity at all storage locations.
	   Example: 99
	*/
	InventoryQuantity int `json:"inventory_quantity,omitempty" url:"-"`

	/*
	   Information of the first option of the variant.
	   Example: red
	*/
	Option1 string `json:"option1,omitempty" url:"-"`

	/*
	   Information of the fifth option of the variant.
	   Example: casual
	*/
	Option5 string `json:"option5,omitempty" url:"-"`

	/*
	   The unit of weight for the variant. Valid values are:
	   - `g`: gram
	   - `kg`: kilogram
	   - `lb`: pound
	   - `oz`: ounce
	   - `zh_kg`: kilogram
	*/
	WeightUnit string `json:"weight_unit,omitempty" url:"-"`

	/*
	   The barcode of the variant.
	   Example: T0000001
	*/
	Barcode string `json:"barcode,omitempty" url:"-"`

	/*
	   The selling price of the variant. The value is rounded to two decimal places.
	   Example: 90.22
	*/
	Price string `json:"price,omitempty" url:"-"`

	/*
	   The unique identifier for the variant.
	   Example: 18057039439794751459380282
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Indicates whether the inventory tracking is enabled.
	   - ` true`: Inventory tracking is enabled.
	   - ` false`: Inventory tracking is not enabled.
	*/
	InventoryTracker bool `json:"inventory_tracker,omitempty" url:"-"`
}
