// Package product generated by SHOPLINE since v20251201
package product

import (
	"errors"
	"fmt"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type UpdateProductSortingInSmartCollectionsAPIReq struct {
	client.BaseAPIRequest
	/*
	   the collection ID
	   Example:
	*/
	CollectionId string `url:"-" json:"-"` // Required
	/*
	   A list of product IDs, arranged at the top of the collection in the order of the passed IDs. This is only effective when `sort_order=manual` and the number does not exceed 5000. If an empty list is passed, all previous sorting will be cleared.
	   Example: [16064649853088531841170520]
	*/
	ProductIds []string `json:"product_ids,omitempty" url:"-"`

	/*
	   Specify the sorting order of products within a smart collection.
	   | parameter | description |
	   | --- | --- |
	   | updated-asc | Sorted by update date in ascending order (oldest to newest). |
	   | updated-desc | Sorted by update date in descending order (newest to oldest). |
	   | created-asc | Sorted by creation date in ascending order (oldest to newest). |
	   | created-desc | Sorted by creation date in descending order (newest to oldest). |
	   | price-asc | Sort by variant lowest selling price in ascending order (lowest - highest). |
	   | price-desc |Sort by variant's lowest selling price in descending order (highest - lowest). |
	   | best-selling | Sorted by best-selling products. |
	   | add-to-cart-desc | Sort by the amount of purchases in the past 90 days in descending order. |
	   | conversion-rate-desc | Sorted by conversion rate in descending order. |
	   | view-desc | Sort by page views in the last 90 days in descending order. |
	   | alpha-asc | Sort by product title in ascending alphabetical order (A - Z).|
	   | alpha-desc | Sort by product title in descending alphabetical order (Z - A). |
	   | manual | Sorted by the order manually set by the merchant. |

	   Example: created-asc
	*/
	SortOrder string `json:"sort_order,omitempty" url:"-"`
}

func (req *UpdateProductSortingInSmartCollectionsAPIReq) GetEndpoint() string {

	return fmt.Sprintf("products/smart_collections/%s/order.json", req.CollectionId)

}

func (req *UpdateProductSortingInSmartCollectionsAPIReq) GetMethod() string {
	return "PUT"
}

func (req *UpdateProductSortingInSmartCollectionsAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *UpdateProductSortingInSmartCollectionsAPIReq) Verify() error {

	if req.CollectionId == "" {
		return errors.New("CollectionId is required")
	}

	return nil
}

func (req *UpdateProductSortingInSmartCollectionsAPIReq) GetRequestOptions() *client.RequestOptions {
	opts := &client.RequestOptions{
		NotDecodeBody: true,
	}
	return opts
}

func (req *UpdateProductSortingInSmartCollectionsAPIReq) NewAPIResp() *UpdateProductSortingInSmartCollectionsAPIResp {
	return &UpdateProductSortingInSmartCollectionsAPIResp{}
}

type UpdateProductSortingInSmartCollectionsAPIResp struct {
	client.BaseAPIResponse
}
