// Package order generated by SHOPLINE since v20251201
package order

import (
	"errors"
	"fmt"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type UpdateTrackingInformationAPIReq struct {
	client.BaseAPIRequest
	/*
	   The unique identifier for the fulfillment.
	   Example: 21057401932826316666967110
	*/
	FulfillmentId string `url:"-" json:"-"` // Required
	/*
	   The unique identifier for the order.
	   Example: 21057401932826316666967110
	*/
	OrderId string `url:"-" json:"-"` // Required
	/*
	   Fulfillment information.
	   Example: map[notify_customer:false tracking_info:map[company: number: url:] tracking_info_list:[map[tracking_company: tracking_number: tracking_url:]]]
	*/
	Fulfillment UpdateTrackingInformationAPIReqFulfillment `json:"fulfillment,omitempty" url:"-"`
}

type UpdateTrackingInformationAPIReqFulfillment struct {
	/*
	   If this parameter is specified, the individual parameters tracking_url, tracking_number, and tracking_company will be ignored.Maximum of 10 tracking infos allowed.
	   Example: [map[tracking_company: tracking_number: tracking_url:]]
	*/
	TrackingInfoList []TrackingInfoList `json:"tracking_info_list,omitempty" url:"-"`

	/*
	   Indicates whether the customer should be notified.
	   - `true`: Notify.
	   - `false`: Do not notify.

	   Default value: `false`

	   If set to `true`, an email will be sent when creating or updating the shipment.
	   Example: false
	*/
	NotifyCustomer bool `json:"notify_customer,omitempty" url:"-"`

	/*
	   Logistics tracking information for fulfillment orders.
	   :::danger
	   **DEPRECATED**: This parameter is deprecated from API version v20250601. Refer to `tracking_info_list` for related information.
	   :::
	   Example: map[company: number: url:]
	*/
	TrackingInfo TrackingInfo `json:"tracking_info,omitempty" url:"-"`
}

func (req *UpdateTrackingInformationAPIReq) GetEndpoint() string {

	return fmt.Sprintf("fulfillments/%s/%s/update_tracking.json", req.FulfillmentId, req.OrderId)

}

func (req *UpdateTrackingInformationAPIReq) GetMethod() string {
	return "POST"
}

func (req *UpdateTrackingInformationAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *UpdateTrackingInformationAPIReq) Verify() error {

	if req.FulfillmentId == "" {
		return errors.New("FulfillmentId is required")
	}

	if req.OrderId == "" {
		return errors.New("OrderId is required")
	}

	return nil
}

func (req *UpdateTrackingInformationAPIReq) NewAPIResp() *UpdateTrackingInformationAPIResp {
	return &UpdateTrackingInformationAPIResp{}
}

type UpdateTrackingInformationAPIResp struct {
	client.BaseAPIResponse
	/*
	   Fulfillment information.
	   Example: map[created_at:2022-10-21T08:56:20-04:00 id:4005740193290131085320 line_items:[map[fulfillable_quantity:1 fulfillment_status:open grams:10.5 id:466157049 name:Trade name price:100.00 price_set:map[presentment_money:map[amount:100.00 currency_code:USD] shop_money:map[amount:100.00 currency_code:USD]] product_id:343342675 properties:[map[additional:add-on information name:picture type:picture urls:[["https://www.myshopline.com"]] value:value]] quantity:1 requires_shipping:true sku:183423409238904944 tax_lines:[map[name:item tax price:10.00 price_set:map[presentment_money:map[amount:10.00 currency_code:USD] shop_money:map[amount:10.00 currency_code:USD]] rate:1.00 title:Product tax]] taxable:true title:Draft total_discount:0.00 total_discount_set:map[presentment_money:map[amount:0.00 currency_code:USD] shop_money:map[amount:0.00 currency_code:USD]] variant_id:183423409238904944 variant_title:Black / Bracelet / Bracelet vendor: version:1]] name:#21057116277667827637773776.1 order_id:21057116277667827637773776 shipment_status:success status:success tracking_company:Other tracking_info_list:[map[tracking_company:Other tracking_number:UG198768340YP tracking_url:https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345]] tracking_number:UG198768340YP tracking_numbers:[["UG198768340YP"]] tracking_url:https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345 tracking_urls:[[""https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345""]] updated_at:2022-10-21T08:56:20-04:00]
	*/
	Fulfillment UpdateTrackingInformationAPIRespFulfillment `json:"fulfillment,omitempty" url:"-"`
}

type UpdateTrackingInformationAPIRespProperty struct {
	/*
	   Customize additional Fields for Products. For example, when `name` is "text", `additional` can include attributes like font size, font style, color, etc.
	   Example: add-on information
	*/
	Additional string `json:"additional,omitempty" url:"-"`

	/*
	   Product customization information name.
	   Example: picture
	*/
	Name string `json:"name,omitempty" url:"-"`

	/*
	   Types of customized product information. Valid values are:
	   - `text`：Text type
	   - `picture`：Picture type
	   - `link`：Link type
	   Example: picture
	*/
	Type string `json:"type,omitempty" url:"-"`

	/*
	   Product customization information link.
	   Example: [["https://www.myshopline.com"]]
	*/
	Urls []string `json:"urls,omitempty" url:"-"`

	/*
	   Product customization information content.
	   Example: value
	*/
	Value string `json:"value,omitempty" url:"-"`
}

type UpdateTrackingInformationAPIRespFulfillment struct {
	/*
	   Third party logistics single number list.
	   Example: [["UG198768340YP"]]
	*/
	TrackingNumbers []string `json:"tracking_numbers,omitempty" url:"-"`

	/*
	   Logistics tracking URL.
	   :::danger
	   **DEPRECATED**: This parameter is deprecated from API version v20250601. Refer to `tracking_info_list` for related information.
	   :::
	   Example: https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345
	*/
	TrackingUrl string `json:"tracking_url,omitempty" url:"-"`

	/*
	   Product line information.
	   Example: [map[fulfillable_quantity:1 fulfillment_status:open grams:10.5 id:466157049 name:Trade name price:100.00 price_set:map[presentment_money:map[amount:100.00 currency_code:USD] shop_money:map[amount:100.00 currency_code:USD]] product_id:343342675 properties:[map[additional:add-on information name:picture type:picture urls:[["https://www.myshopline.com"]] value:value]] quantity:1 requires_shipping:true sku:183423409238904944 tax_lines:[map[name:item tax price:10.00 price_set:map[presentment_money:map[amount:10.00 currency_code:USD] shop_money:map[amount:10.00 currency_code:USD]] rate:1.00 title:Product tax]] taxable:true title:Draft total_discount:0.00 total_discount_set:map[presentment_money:map[amount:0.00 currency_code:USD] shop_money:map[amount:0.00 currency_code:USD]] variant_id:183423409238904944 variant_title:Black / Bracelet / Bracelet vendor: version:1]]
	*/
	LineItems []UpdateTrackingInformationAPIRespLineItem `json:"line_items,omitempty" url:"-"`

	/*
	   Fulfillment name.
	   Example: #21057116277667827637773776.1
	*/
	Name string `json:"name,omitempty" url:"-"`

	/*
	   The order ID.
	   Example: 21057116277667827637773776
	*/
	OrderId string `json:"order_id,omitempty" url:"-"`

	/*
	   Fulfillment status. Valid values are:
	   - `fulfilled`: order shipped
	   - `partial`: order partially shipped
	   - `null`: order not shipped

	   Note: the returned enum value is different from the query enumeration value of the input parameter.
	   Example: success
	*/
	Status string `json:"status,omitempty" url:"-"`

	/*
	   If this parameter is specified, the individual parameters tracking_url, tracking_number, and tracking_company will be ignored.Maximum of 10 tracking infos allowed.
	   Example: [map[tracking_company:Other tracking_number:UG198768340YP tracking_url:https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345]]
	*/
	TrackingInfoList []TrackingInfoList `json:"tracking_info_list,omitempty" url:"-"`

	/*
	   The date and time when the fulfillment was created. Format: [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).

	   Example: `2021-08-31T02:20:26+08:00`
	   Example: 2022-10-21T08:56:20-04:00
	*/
	CreatedAt string `json:"created_at,omitempty" url:"-"`

	/*
	   Third party tracking number.
	   :::danger
	   **DEPRECATED**: This parameter is deprecated from API version v20250601. Refer to `tracking_info_list` for related information.
	   :::
	   Example: UG198768340YP
	*/
	TrackingNumber string `json:"tracking_number,omitempty" url:"-"`

	/*
	   Logistics tracking url list.
	   Example: [[""https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=1Z2345""]]
	*/
	TrackingUrls []string `json:"tracking_urls,omitempty" url:"-"`

	/*
	   The date and time when the logistics is updated. Format：[ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html).

	   Example: `2024-08-31T02:20:26+08:00`
	   Example: 2022-10-21T08:56:20-04:00
	*/
	UpdatedAt string `json:"updated_at,omitempty" url:"-"`

	/*
	   Fulfillment ID.
	   Example: 4005740193290131085320
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Logistics delivery status. Valid values are:
	   - `label_printed`: Logistic labels have been printed.
	   - `label_purchased`: Logistics labels have been purchased.
	   - `attempted_delivery`: Indicates that the courier attempted to deliver the package but was unsuccessful.
	   - `ready_for_pickup`: Waiting for the logistics company to pick up the package.
	   - `picked_up`: Logistics company has picked up the shipment.
	   - `confirmed`: Package has been officially confirmed.
	   - `in_transit`: Package is in transit.
	   - `out_for_delivery`: Package has arrived at the destination area and is being delivered.
	   - `delivered`: Package has been delivered.
	   - `failure`: For some reason, package delivery failed.
	   Example: success
	*/
	ShipmentStatus string `json:"shipment_status,omitempty" url:"-"`

	/*
	   Logistics company name.
	   :::danger
	   **DEPRECATED**: This parameter is deprecated from API version v20250601. Refer to `tracking_info_list` for related information.
	   :::
	   Example: Other
	*/
	TrackingCompany string `json:"tracking_company,omitempty" url:"-"`
}

type UpdateTrackingInformationAPIRespLineItem struct {
	/*
	   The version of the product.
	   Example: 1
	*/
	Version string `json:"version,omitempty" url:"-"`

	/*
	   Product title.
	   Example: Draft
	*/
	Title string `json:"title,omitempty" url:"-"`

	/*
	   Indicates whether the product is taxable.
	   - `true`：Taxable
	   - `false`：Not taxable
	   Example: true
	*/
	Taxable bool `json:"taxable,omitempty" url:"-"`

	/*
	   The total order discount, calculated as the sum of marketing discounts and custom discounts, displayed in both the store's currency and the buyer's currency.
	   Example: map[presentment_money:map[amount:0.00 currency_code:USD] shop_money:map[amount:0.00 currency_code:USD]]
	*/
	TotalDiscountSet TotalDiscountSet `json:"total_discount_set,omitempty" url:"-"`

	/*
	   The unique identifier for the product's stock keeping unit, representing a specific style of the product.
	   Example: 183423409238904944
	*/
	VariantId string `json:"variant_id,omitempty" url:"-"`

	/*
	   The total order discount, calculated as the sum of marketing discounts and custom discounts, is rounded to two decimal places and displayed in the store's currency.
	   Example: 0.00
	*/
	TotalDiscount string `json:"total_discount,omitempty" url:"-"`

	/*
	   The name of the product variant.
	   Example: Black / Bracelet / Bracelet
	*/
	VariantTitle string `json:"variant_title,omitempty" url:"-"`

	/*
	   The product price, displayed in both the store's currency and the buyer's currency.
	   Example: map[presentment_money:map[amount:100.00 currency_code:USD] shop_money:map[amount:100.00 currency_code:USD]]
	*/
	PriceSet PriceSet `json:"price_set,omitempty" url:"-"`

	/*
	   Product line ID.
	   Example: 466157049
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Indicates whether the product is subject to shipping.
	   - `true`: Shipping is required.
	   - `false`: Shipping is not required.
	   Example: true
	*/
	RequiresShipping bool `json:"requires_shipping,omitempty" url:"-"`

	/*
	   Product ID（SPU serial number).
	   Example: 343342675
	*/
	ProductId string `json:"product_id,omitempty" url:"-"`

	/*
	   Available fulfillment quantity.
	   Example: 1
	*/
	FulfillableQuantity int `json:"fulfillable_quantity,omitempty" url:"-"`

	/*
	   The minimum unit of inventory used to uniquely identify the specific attribute combinations of a product.
	   Example: 183423409238904944
	*/
	Sku string `json:"sku,omitempty" url:"-"`

	/*
	   The custom product tax information.
	   Example: [map[name:item tax price:10.00 price_set:map[presentment_money:map[amount:10.00 currency_code:USD] shop_money:map[amount:10.00 currency_code:USD]] rate:1.00 title:Product tax]]
	*/
	TaxLines []UpdateTrackingInformationAPIRespTaxLine `json:"tax_lines,omitempty" url:"-"`

	/*
	   Customize additional fields for products.
	   Example: [map[additional:add-on information name:picture type:picture urls:[["https://www.myshopline.com"]] value:value]]
	*/
	Properties []UpdateTrackingInformationAPIRespProperty `json:"properties,omitempty" url:"-"`

	/*
	   Product weight, unit: g.
	   Example: 10.5
	*/
	Grams float64 `json:"grams,omitempty" url:"-"`

	/*
	   Supplier.
	   Example:
	*/
	Vendor string `json:"vendor,omitempty" url:"-"`

	/*
	   The shipping status of the product. Valid values are:
	   - `unshipped`: order not shipped
	   - `partial`: order partially shipped
	   - `shipped`: order shipped
	   Example: open
	*/
	FulfillmentStatus string `json:"fulfillment_status,omitempty" url:"-"`

	/*
	   Product name.
	   Example: Trade name
	*/
	Name string `json:"name,omitempty" url:"-"`

	/*
	   Product shipment quantity.
	   Example: 1
	*/
	Quantity int `json:"quantity,omitempty" url:"-"`

	/*
	   Product price.
	   Example: 100.00
	*/
	Price string `json:"price,omitempty" url:"-"`
}

type UpdateTrackingInformationAPIRespTaxLine struct {
	/*
	   Tax name.
	   Example: item tax
	*/
	Name string `json:"name,omitempty" url:"-"`

	/*
	   Tax amount. The actual tax charged for the product will be based on the amount in this field.
	   Example: 10.00
	*/
	Price string `json:"price,omitempty" url:"-"`

	/*
	   The tax amount，displayed in both the buyer's currency and the store's currency.
	   Example: map[presentment_money:map[amount:10.00 currency_code:USD] shop_money:map[amount:10.00 currency_code:USD]]
	*/
	PriceSet PriceSet `json:"price_set,omitempty" url:"-"`

	/*
	   The tax rate, for display only.
	   Example: 1.00
	*/
	Rate string `json:"rate,omitempty" url:"-"`

	/*
	   The tax description title, for display only.
	   Example: Product tax
	*/
	Title string `json:"title,omitempty" url:"-"`
}
