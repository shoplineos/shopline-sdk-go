// Package product generated by SHOPLINE since v20251201
package product

import (
	"errors"
	"fmt"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type GetGiftCardOperationRecordsAPIReq struct {
	client.BaseAPIRequest
	/*
	   Gift Card ID.
	   Example: 30157043359245339231360282
	*/
	GiftCardId string `url:"-" json:"-"` // Required
	/*
	   Create time before xxx ( format see ISO8601 ), up to 180 days of data can be queried.
	   Example: 2021-09-04T14:11:54+00:00
	*/
	CreatetimeAtMax string `url:"createtime_at_max,omitempty" json:"-"`
	/*
	   Create time starts with xxx ( format see ISO8601 ), up to 180 days of data can be queried.
	   Example: 2021-09-02T14:11:54+00:00
	*/
	CreatetimeAtMin string `url:"createtime_at_min,omitempty" json:"-"`
	/*
	   Limit of query , default 50 , can not exceed 100.
	   Example: 100
	*/
	Limit string `url:"limit,omitempty" json:"-"`
	/*
	   Gift Card Operation Types, separate multiple values with commas ",".
	   If left blank, all types will be returned.
	   | Value | Description |
	   | --- | --- |
	   | OPERATE_ACTION_DEDUCT | Deduction from gift card payment. |
	   | OPERATE_ACTION_REFUND | Refund returned to gift card. |
	   | OPERATE_ACTION_ADJUST_BALANCE | Balance adjustment by third-party applications. |

	   Example: OPERATE_ACTION_DEDUCT,OPERATE_ACTION_REFUND
	*/
	OperationType string `url:"operation_type,omitempty" json:"-"`
	/*
	   The unique identifier for pagination queries, used to locate a specific page.

	   This parameter value is obtained from the `link` value in the response header of this API after you have queried the pagination information.

	   For example, if the `link` value you obtained is `<https://{handle}.myshopline.com/admin/openapi/{version}/gift_cards/:gift_card_id/operation_records.json?limit=1&page_info=eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9>; rel="next"` , the value of `page_info` is `eyJzaW5jZUlkIjoiMTYwNTc1OTAxNTM4OTA4Mjk1MjExMTI3ODgiLCJkaXJlY3Rpb24iOiJuZXh0IiwibGltaXQiOjF9` .
	   For more information on how to use pagination, refer to [Paging Mechanism](/docs/apps/api-instructions-for-use/paging-mechanism).
	   Example: eyJzaW5jZUlkIjoiMzAxNTcwNDMzNTkyNDUzMzkyMzEzNjAyODIiLCJkaXJlY3Rpb24iOiJwcmV2Iiwic3RhdHVzIjoiZW5hYmxl
	*/
	PageInfo string `url:"page_info,omitempty" json:"-"`
	/*
	   Sorted by usage time
	   | Value | Description |
	   | --- | --- |
	   | asc | Sorted in ascending order of usage time. |
	   | desc | Sorted in ascending order of usage time, is default. |

	   Example: desc
	*/
	SortOrder string `url:"sort_order,omitempty" json:"-"`
}

func (req *GetGiftCardOperationRecordsAPIReq) GetEndpoint() string {

	return fmt.Sprintf("gift_cards/%s/operation_records.json", req.GiftCardId)

}

func (req *GetGiftCardOperationRecordsAPIReq) GetMethod() string {
	return "GET"
}

func (req *GetGiftCardOperationRecordsAPIReq) GetQuery() interface{} {
	return req
}

// Verify the api request parameters
func (req *GetGiftCardOperationRecordsAPIReq) Verify() error {

	if req.GiftCardId == "" {
		return errors.New("GiftCardId is required")
	}

	return nil
}

func (req *GetGiftCardOperationRecordsAPIReq) NewAPIResp() *GetGiftCardOperationRecordsAPIResp {
	return &GetGiftCardOperationRecordsAPIResp{}
}

type GetGiftCardOperationRecordsAPIResp struct {
	client.BaseAPIResponse
	/*
	   Gift card creation time.
	   Example: 2023-08-16T23:59:59+08:00
	*/
	CreatedAt string `json:"created_at,omitempty" url:"-"`

	/*
	   Client id for customers assigned to present gift card.
	   Example: 4200113946
	*/
	CustomerId string `json:"customer_id,omitempty" url:"-"`

	/*
	   Gift Card ID.
	   Example: 30157043359245339231360282
	*/
	GiftCardId string `json:"gift_card_id,omitempty" url:"-"`

	/*
	   List of gift card operation records.
	   Example: [map[created_at:2023-08-16T23:59:59+08:00 cur_balance:100 id:5504120995916023830 last_balance:50 operation_type:OPERATE_ACTION_DEDUCT order_id:21055050822459866501338306 pay_seq:23062186831987862878904657 refund_id:2605514230128707114121]]
	*/
	GiftCardRecords []GiftCardRecord `json:"gift_card_records,omitempty" url:"-"`

	/*
	   Gift card status , enabled : enabled , disabled : not enabled.
	   Example: enabled
	*/
	Status string `json:"status,omitempty" url:"-"`

	/*
	   Total number of records.
	   Example: 10
	*/
	Count int `json:"count,omitempty" url:"-"`
}

type GiftCardRecord struct {
	/*
	   Associated Payment id.
	   Example: 23062186831987862878904657
	*/
	PaySeq string `json:"pay_seq,omitempty" url:"-"`

	/*
	   Associated refund id.
	   Example: 2605514230128707114121
	*/
	RefundId string `json:"refund_id,omitempty" url:"-"`

	/*
	   Gift card record creation time.
	   Example: 2023-08-16T23:59:59+08:00
	*/
	CreatedAt string `json:"created_at,omitempty" url:"-"`

	/*
	   Post-change balance.
	   Example: 100
	*/
	CurBalance int `json:"cur_balance,omitempty" url:"-"`

	/*
	   Gift Card records ID.
	   Example: 5504120995916023830
	*/
	Id string `json:"id,omitempty" url:"-"`

	/*
	   Pre-change balance.
	   Example: 50
	*/
	LastBalance int `json:"last_balance,omitempty" url:"-"`

	/*
	   Gift card operation type.
	   | Value | Description |
	   | --- | --- |
	   | OPERATE_ACTION_DEDUCT | Deduction from gift card payment. |
	   | OPERATE_ACTION_REFUND | Refund returned to gift card. |
	   | OPERATE_ACTION_ADJUST_BALANCE | Balance adjustment by third-party applications. |

	   Example: OPERATE_ACTION_DEDUCT
	*/
	OperationType string `json:"operation_type,omitempty" url:"-"`

	/*
	   Associated order id.
	   Example: 21055050822459866501338306
	*/
	OrderId string `json:"order_id,omitempty" url:"-"`
}
