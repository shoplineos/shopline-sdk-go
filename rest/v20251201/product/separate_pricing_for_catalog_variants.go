// Package product generated by SHOPLINE since v20251201
package product

import (
	"errors"

	"github.com/shoplineos/shopline-sdk-go/client"
)

type SeparatePricingForCatalogVariantsAPIReq struct {
	client.BaseAPIRequest
	/*
	   The ID of company location catalog.
	   Example: 6598087148213149672
	*/
	CatalogId string `json:"catalog_id,omitempty" url:"-"`

	/*
	   Identify the list of variants for which price rules and quantity rules need to be deleted. If both the deletion list and the addition list are provided simultaneously, the price of the variant will be cleared. A maximum of 500 variants can be processed.Invalid IDs will be filtered out.
	   Example: [18064429954848899821950520]
	*/
	PricesToDeleteByVariantIds []string `json:"prices_to_delete_by_variant_ids,omitempty" url:"-"`

	/*
	   The ID of the product in the catalog.
	   Example: 16064429954842188935480520
	*/
	ProductId string `json:"product_id,omitempty" url:"-"`

	/*
	   Variant pricing list, limited to a maximum of 500 variants.
	   Example: [map[percent:50 percent_type:1 price:100 price_adjustment_method:1 quantity_price_breaks:[map[minimum_qty:2 percent:50 percent_type:1 price:100]] quantity_rules:map[increment:2 maximum:8 minimum:2] variant_id:18064429954848899821990520]]
	*/
	VariantPrices []VariantPrice `json:"variant_prices,omitempty" url:"-"`
}

type VariantPrice struct {
	/*
	   Rules for purchase quantity
	   Example: map[increment:2 maximum:8 minimum:2]
	*/
	QuantityRules QuantityRules `json:"quantity_rules,omitempty" url:"-"`

	/*
	   The ID of the variant in the catalog.
	   Example: 18064429954848899821990520
	*/
	VariantId string `json:"variant_id,omitempty" url:"-"`

	/*
	   The adjustment value based on `percent_type`, formatted as a percentage.
	   - When decreasing the price, the value is limited to 0-100.
	   - When increasing the price, the value is limited to 0-10,000.
	   Example: 50
	*/
	Percent int `json:"percent,omitempty" url:"-"`

	/*
	   The type of percentage adjustment, with a value of `1` for decreasing the price and a value of `2` for increasing the price.
	   Example: 1
	*/
	PercentType int `json:"percent_type,omitempty" url:"-"`

	/*
	   Fixed price
	   Example: 100
	*/
	Price string `json:"price,omitempty" url:"-"`

	/*
	   The type of price adjustment, with a value of `1` for percentage and a value of `2` for fixed price.
	   Example: 1
	*/
	PriceAdjustmentMethod int `json:"price_adjustment_method,omitempty" url:"-"`

	/*
	   Gradient pricing list.
	   Example: [map[minimum_qty:2 percent:50 percent_type:1 price:100]]
	*/
	QuantityPriceBreaks []QuantityPriceBreak `json:"quantity_price_breaks,omitempty" url:"-"`
}

func (req *SeparatePricingForCatalogVariantsAPIReq) GetEndpoint() string {

	return "company_location_catalog/variants_pricing.json"

}

func (req *SeparatePricingForCatalogVariantsAPIReq) GetMethod() string {
	return "PUT"
}

func (req *SeparatePricingForCatalogVariantsAPIReq) GetData() interface{} {
	return req
}

// Verify the api request parameters
func (req *SeparatePricingForCatalogVariantsAPIReq) Verify() error {

	if req.CatalogId == "" {
		return errors.New("CatalogId is required")
	}

	if req.ProductId == "" {
		return errors.New("ProductId is required")
	}

	return nil
}

func (req *SeparatePricingForCatalogVariantsAPIReq) GetRequestOptions() *client.RequestOptions {
	opts := &client.RequestOptions{
		NotDecodeBody: true,
	}
	return opts
}

func (req *SeparatePricingForCatalogVariantsAPIReq) NewAPIResp() *SeparatePricingForCatalogVariantsAPIResp {
	return &SeparatePricingForCatalogVariantsAPIResp{}
}

type SeparatePricingForCatalogVariantsAPIResp struct {
	client.BaseAPIResponse
}
