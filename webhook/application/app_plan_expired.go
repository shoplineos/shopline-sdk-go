// Package application generated by SHOPLINE since v20251201
package application

import (
	"github.com/shoplineos/shopline-sdk-go/client"
)

func (e *AppPlanExpiredEvent) GetSupportedTopic() string {
	return "appsubscription/expiration"
}

type AppPlanExpiredEventSubPackage struct {
	/*
	   The original expiration time of the expired plan’s subscription as a 10-digit seconds timestamp.
	   Example: 1.7356896e+09
	*/
	EndAt int64 `json:"endAt,omitempty"`

	/*
	   The activation time of the expired plan’s subscription as a 10-digit seconds timestamp.
	   Example: 1.706810461e+09
	*/
	StartAt int64 `json:"startAt,omitempty"`
}

type AppPlanExpiredEvent struct {
	client.WebhookEvent
	/*
	   The actual expiration time of the plan in the format of a 10-digit seconds timestamp.
	   Example: 1.7356896e+09
	*/
	ExpirationTime int64 `json:"expirationTime,omitempty"`

	/*
	   The type of plan expiration. Valid values are:
	   - `0`: The subscription is terminated. The grace period has ended, and there are no subsequent subscription plans.
	   - `1`: The current subscription was terminated due to a plan upgrade. A Webhook notification for [App plan activated](https://developer.shopline.com/docs/webhook/application/app-plan-activated) (event subscription required) will be sent when the new plan takes effect.
	   - `2`: The subscription was manually canceled through the SHOPLINE Admin, usually occurring in exceptional handling scenarios.
	   - `3`: The current subscription has expired but is still within the grace period.
	   - `4`: The current subscription has expired, and the next subscription period has already been activated.
	   Example: 0
	*/
	ExpirationType int `json:"expirationType,omitempty"`

	/*
	   The unique identifier for the store, corresponding to the `{handle}` part of the store's domain `{handle}.myshopline.com`.
	   Example: smartstore
	*/
	Handle string `json:"handle,omitempty"`

	/*
	   Secondary channel identifier, used to specify particular sales channels such as offline POS stores.
	   Applicable scenarios:
	   - When the plan is sold at the level of a single store, this field identifies the specific store.
	   - When the plan is sold at the level of the entire shop, this field remains empty.
	   Example: 4567223323
	*/
	SecondChannelId string `json:"secondChannelId,omitempty"`

	/*
	   The unique identifier for the plan, defined when the plan is created.
	   Example: premium_email
	*/
	SpuKey string `json:"spuKey,omitempty"`

	/*
	   The original order number for the expired subscription.
	   Example: 6578332207010012345
	*/
	SubId string `json:"subId,omitempty"`

	/*
	   The activation and original expiration information of the expired plan. This field provides the corresponding information when the plan becomes invalid due to an upgrade or cancellation.
	   Example: map[endAt:1.7356896e+09 startAt:1.706810461e+09]
	*/
	SubPackage AppPlanExpiredEventSubPackage `json:"subPackage,omitempty"`

	/*
	   The unique identifier for the app.
	   Example: 56978e0b3f33365396d7786a62ed0a03727e3212
	*/
	Appkey string `json:"appkey,omitempty"`
}
